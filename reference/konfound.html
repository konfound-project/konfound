<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Konfound Analysis for Various Model Types — konfound • konfound</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Konfound Analysis for Various Model Types — konfound"><meta name="description" content="Performs sensitivity analysis on fitted models including
linear models (`lm`), generalized linear models (`glm`),
and linear mixed-effects models (`lmerMod`).
It calculates the amount of bias required to invalidate or
sustain an inference,and the impact of an omitted variable
necessary to affect the inference."><meta property="og:description" content="Performs sensitivity analysis on fitted models including
linear models (`lm`), generalized linear models (`glm`),
and linear mixed-effects models (`lmerMod`).
It calculates the amount of bias required to invalidate or
sustain an inference,and the impact of an omitted variable
necessary to affect the inference."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">konfound</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction-to-konfound.html">Introduction to konfound</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/konfound-project/konfound/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Konfound Analysis for Various Model Types</h1>
      <small class="dont-index">Source: <a href="https://github.com/konfound-project/konfound/blob/master/R/konfound.R" class="external-link"><code>R/konfound.R</code></a></small>
      <div class="d-none name"><code>konfound.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Performs sensitivity analysis on fitted models including
linear models (`lm`), generalized linear models (`glm`),
and linear mixed-effects models (`lmerMod`).
It calculates the amount of bias required to invalidate or
sustain an inference,and the impact of an omitted variable
necessary to affect the inference.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">konfound</span><span class="op">(</span></span>
<span>  <span class="va">model_object</span>,</span>
<span>  <span class="va">tested_variable</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  tails <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  index <span class="op">=</span> <span class="st">"RIR"</span>,</span>
<span>  to_return <span class="op">=</span> <span class="st">"print"</span>,</span>
<span>  two_by_two <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  n_treat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  switch_trm <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  replace <span class="op">=</span> <span class="st">"control"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model-object">model_object<a class="anchor" aria-label="anchor" href="#arg-model-object"></a></dt>
<dd><p>A model object produced by `lm`, `glm`, or `lme4::lmer`.</p></dd>


<dt id="arg-tested-variable">tested_variable<a class="anchor" aria-label="anchor" href="#arg-tested-variable"></a></dt>
<dd><p>Variable associated with the coefficient to be tested.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>Significance level for hypothesis testing.</p></dd>


<dt id="arg-tails">tails<a class="anchor" aria-label="anchor" href="#arg-tails"></a></dt>
<dd><p>Number of tails for the test (1 or 2).</p></dd>


<dt id="arg-index">index<a class="anchor" aria-label="anchor" href="#arg-index"></a></dt>
<dd><p>Type of sensitivity analysis ('RIR' by default).</p></dd>


<dt id="arg-to-return">to_return<a class="anchor" aria-label="anchor" href="#arg-to-return"></a></dt>
<dd><p>Type of output to return ('print', 'raw_output', 'table').</p></dd>


<dt id="arg-two-by-two">two_by_two<a class="anchor" aria-label="anchor" href="#arg-two-by-two"></a></dt>
<dd><p>Boolean; if `TRUE`, uses a 2x2 table approach
for `glm` dichotomous variables.</p></dd>


<dt id="arg-n-treat">n_treat<a class="anchor" aria-label="anchor" href="#arg-n-treat"></a></dt>
<dd><p>Number of treatment cases
(used only if `two_by_two` is `TRUE`).</p></dd>


<dt id="arg-switch-trm">switch_trm<a class="anchor" aria-label="anchor" href="#arg-switch-trm"></a></dt>
<dd><p>Boolean; switch treatment and control in the analysis.</p></dd>


<dt id="arg-replace">replace<a class="anchor" aria-label="anchor" href="#arg-replace"></a></dt>
<dd><p>Replacement method for treatment cases ('control' by default).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Depending on `to_return`, prints the result, returns a raw output,
or a summary table.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># using lm() for linear models</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">hp</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">konfound</span><span class="op">(</span><span class="va">m1</span>, <span class="va">wt</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Robustness of Inference to Replacement (RIR):</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RIR = 21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> To nullify the inference of an effect using the threshold of -1.294 for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> statistical significance (with null hypothesis = 0 and alpha = 0.05), 66.629%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of the (-3.878) estimate would have to be due to bias. This implies that to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nullify the inference one would expect to have to replace 21 (66.629%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> observations with data points for which the effect is 0 (RIR = 21).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> See Frank et al. (2013) for a description of the method.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="text-decoration: underline;">Citation:</span> Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. (2013).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What would it take to change an inference?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using Rubin's causal model to interpret the robustness of causal inferences.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Education, Evaluation and Policy Analysis, 35</span> 437-460.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Accuracy of results increases with the number of decimals reported.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span><span class="fu">konfound</span><span class="op">(</span><span class="va">m1</span>, <span class="va">wt</span>, to_return <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dependent variable is mpg </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> For interpretation, check out to_return = 'print'.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X represents wt, Y represents mpg, v represents each covariate.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First table is based on unconditional correlations, second table is based on</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> partial correlations.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Main_Output</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   term        estimate std.error statistic p.value   itcv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> (Intercept)   37.2       1.60      23.3    0     <span style="color: #BB0000;">NA</span>    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> wt            -3.88      0.633     -6.13   0      0.291</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> hp            -0.032     0.009     -3.52   0.001  0.511</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Unconditional_Impact</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   term  `Cor(vX)` `Cor(vY)` Impact</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> hp        0.659    -0.776 -0.511</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Partial_Impact</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   term  `Partial Cor(vX)` `Partial Cor(vY)` Partial_Impact</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> hp                0.659            -0.776         -0.511</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using glm() for non-linear models</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"forcats"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">&lt;-</span> <span class="fu">forcats</span><span class="fu">::</span><span class="va"><a href="https://forcats.tidyverse.org/reference/gss_cat.html" class="external-link">gss_cat</a></span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">d</span><span class="op">$</span><span class="va">married</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">marital</span> <span class="op">==</span> <span class="st">"Married"</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">married</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">d</span>, family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">konfound</span><span class="op">(</span><span class="va">m2</span>, <span class="va">age</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Note that if your model is a logistic regression, we recommend using the pkonfound command for logistic regression with manually entered parameter estimates and other quantities.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Note that this is only an approximation. For exact results in terms of the number of cases that must be switched from treatment success to treatment failure to invalidate the inference see: https://msu.edu/~kenfrank/non%20linear%20replacement%20treatment.xlsm</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> If a dichotomous independent variable is used, consider using the 2X2 table approach enabled with the argument two_by_two = TRUE</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Due to an issue with the margins and predictions package, these are the raw coefficients, not the average marginal effects; we will address this in future patches</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Robustness of Inference to Replacement (RIR):</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RIR = 17983</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> To nullify the inference of an effect using the threshold of 0.002 for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> statistical significance (with null hypothesis = 0 and alpha = 0.05), 84.006%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of the (0.01) estimate would have to be due to bias. This implies that to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nullify the inference one would expect to have to replace 17983 (84.006%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> observations with data points for which the effect is 0 (RIR = 17983).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> See Frank et al. (2013) for a description of the method.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="text-decoration: underline;">Citation:</span> Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. (2013).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What would it take to change an inference?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using Rubin's causal model to interpret the robustness of causal inferences.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Education, Evaluation and Policy Analysis, 35</span> 437-460.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Accuracy of results increases with the number of decimals reported.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using lme4 for mixed effects (or multi-level) models</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"lme4"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lme4/lme4/" class="external-link">lme4</a></span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">m3</span> <span class="op">&lt;-</span> <span class="va">fm1</span> <span class="op">&lt;-</span> <span class="fu">lme4</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lme4/man/lmer.html" class="external-link">lmer</a></span><span class="op">(</span><span class="va">Reaction</span> <span class="op">~</span> <span class="va">Days</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">Subject</span><span class="op">)</span>, <span class="va">sleepstudy</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">konfound</span><span class="op">(</span><span class="va">m3</span>, <span class="va">Days</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: Matrix</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Robustness of Inference to Replacement (RIR):</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RIR = 137</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> To nullify the inference of an effect using the threshold of 1.588 for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> statistical significance (with null hypothesis = 0 and alpha = 0.05), 84.826%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> of the (10.467) estimate would have to be due to bias. This implies that to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> nullify the inference one would expect to have to replace 137 (84.826%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> observations with data points for which the effect is 0 (RIR = 137).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> See Frank et al. (2013) for a description of the method.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="text-decoration: underline;">Citation:</span> Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. (2013).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> What would it take to change an inference?</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using Rubin's causal model to interpret the robustness of causal inferences.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Education, Evaluation and Policy Analysis, 35</span> 437-460.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Accuracy of results increases with the number of decimals reported.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Note that the Kenward-Roger approximation is used to</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>             estimate degrees of freedom for the predictor(s) of interest.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>             We are presently working to add other methods for calculating</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>             the degrees of freedom for the predictor(s) of interest.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>             If you wish to use other methods now, consider those detailed here:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>             https://bbolker.github.io/mixedmodels-misc/glmmFAQ.html</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>             #why-doesnt-lme4-display-denominator-degrees-of-freedomp-values-what-other-options-do-i-have.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>             You can then enter degrees of freedom obtained from another method along with the coefficient,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>             number of observations, and number of covariates to the pkonfound() function to quantify the robustness of the inference.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">m4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">outcome</span> <span class="op">~</span> <span class="va">condition</span>, data <span class="op">=</span> <span class="va">binary_dummy_data</span>, family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">konfound</span><span class="op">(</span><span class="va">m4</span>, <span class="va">condition</span>, two_by_two <span class="op">=</span> <span class="cn">TRUE</span>, n_treat <span class="op">=</span> <span class="fl">55</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Robustness of Inference to Replacement (RIR):</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RIR = 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fragility = 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> You entered: log odds = 1.527, SE = 0.415, with p-value = 0.000. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The table implied by the parameter estimates and sample sizes you entered:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Fail Success Success_Rate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Control     36      16       30.77%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Treatment   18      37       67.27%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total       54      53       49.53%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Values in the table have been rounded to the nearest integer. This may cause </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a small change to the estimated effect for the table.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> To nullify the inference that the effect is different from 0 (alpha = 0.050), one would</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> need to transfer 10 data points from treatment success to treatment failure (Fragility = 10).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This is equivalent to replacing 15 (40.541%) treatment success data points with data points </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> for which the probability of failure in the control group (69.231%) applies (RIR = 15). </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Note that RIR = Fragility/P(destination) = 10/0.692 ~ 15.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The transfer of 10 data points yields the following table:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="text-decoration: underline;">Transfer Table:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Fail Success Success_Rate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Control     36      16       30.77%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Treatment   28      27       49.09%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total       64      43       40.19%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The log odds (estimated effect) = 0.775, SE = 0.404, p-value = 0.058.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> This p-value is based on t = estimated effect/standard error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Benchmarking RIR for Logistic Regression</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The benchmark value helps interpret the RIR necessary to nullify an inference by comparing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> the change needed to nullify the inference with the changes in the estimated effect due to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> observed covariates. Currently this feature is available only when the reported results are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> statistically significant.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The benchmark is used to compare the bias needed to nullify the inference / bias reduction due</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> to observed covariates. Specifically, change in data from implied to transfer table / change in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data from unconditional table to implied table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> To calculate this benchmark value, a range of treatment success values is automatically </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> generated based on the assumption that the marginals are constant between the implied table </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> and the raw unadjusted table. The benchmark value is visualized as a graph, allowing the </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> user to interpret how the benchmark changes with hypothesized treatment success values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> To calculate a specific benchmark value, locate the number of treatment successes in the raw data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> on the graph below.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `geom_line()`: Each group consists of only one observation.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Do you need to adjust the <span style="color: #00BB00;">group</span> aesthetic?</span>
<span class="r-plt img"><img src="konfound-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> See Frank et al. (2021) for a description of the methods.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> *Frank, K. A., *Lin, Q., *Maroulis, S., *Mueller, A. S., Xu, R., Rosenberg, J. M., ... &amp; Zhang, L. (2021).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hypothetical case replacement can be used to quantify the robustness of trial results. <span style="font-style: italic;">Journal of Clinical</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-style: italic;">Epidemiology, 134</span>, 150-159.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> *authors are listed alphabetically.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Accuracy of results increases with the number of decimals entered.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua M Rosenberg.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

