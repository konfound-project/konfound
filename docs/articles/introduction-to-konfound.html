<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to konfound • konfound</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to konfound">
<meta property="og:description" content="konfound">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">konfound</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction-to-konfound.html">Introduction to konfound</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jrosen48/konfound/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="introduction-to-konfound_files/header-attrs-2.5/header-attrs.js"></script><script src="introduction-to-konfound_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="introduction-to-konfound_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="introduction-to-konfound_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to konfound</h1>
                        <h4 class="author">Joshua Rosenberg, Ran Xu, Qinyun Lin, and Ken Frank</h4>
            
            <h4 class="date">2020-12-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jrosen48/konfound/blob/master/vignettes/introduction-to-konfound.Rmd"><code>vignettes/introduction-to-konfound.Rmd</code></a></small>
      <div class="hidden name"><code>introduction-to-konfound.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>In social science (and educational) research, we often wish to understand how robust inferences about effects are to unobserved (or controlled for) covariates, possible problems with measurement, and other sources of bias. The goal of <code>konfound</code> is to carry out sensitivity analysis to help analysts to <em>quantify how robust inferences are to potential sources of bias</em>. This package provides functions based on developments in sensitivity analysis by Frank and colleagues, which previously have been implemented in <code>Stata</code> and through an Excel spreadsheet, in <code>R</code> through the <code>konfound</code> package. In particular, we provide functions for both <em>values from analyses carried out outside of R as well as from models (<code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code>, <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code>, and <code><a href="https://rdrr.io/pkg/lme4/man/lmer.html">lme4::lmer()</a></code> fit in R)</em> for:</p>
<ul>
<li>Quantifying the bias necessary to alter an inference from the framework of Rubin’s (1974) causal model</li>
<li>The robustness of causal inference in terms of the impact threshold of a confounding variable</li>
</ul>
<p>You can install <code>konfound</code> with the following:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"konfound"</span><span class="op">)</span></code></pre></div>
<p>You can then load konfound with the <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jrosen48/konfound">konfound</a></span><span class="op">)</span>
<span class="co">#&gt; Sensitivity analysis as described in Frank, Maroulis, Duong, and Kelcey (2013) and in Frank (2000).</span>
<span class="co">#&gt; For more information visit http://konfound-it.com.</span></code></pre></div>
<div id="use-of-pkonfound-for-values-from-an-already-conducted-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#use-of-pkonfound-for-values-from-an-already-conducted-analysis" class="anchor"></a>Use of pkonfound() for values from an already-conducted analysis</h2>
<p><code><a href="../reference/pkonfound.html">pkonfound()</a></code> is used when we have values from an already-conducted analysis (like a regression analysis), such as one in an already-published study or from an analysis carried out using other software.</p>
<p>In the case of a regression analysis, values from the analysis would simply be used as the inputs to the <code><a href="../reference/pkonfound.html">pkonfound()</a></code> function. For example, in the use below, we simply enter the values for the estimated effect (an unstandardardized beta coefficient) (<code>2</code>), its standard error (<code>.4</code>), the sample size (<code>100</code>), and the number of covariates (<code>3</code>):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pkonfound.html">pkonfound</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">.4</span>, <span class="fl">100</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; Percent Bias Necessary to Invalidate the Inference:</span>
<span class="co">#&gt; To invalidate an inference, 60.3% of the estimate would have to be due to bias. This is based on a threshold of 0.794 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; To invalidate an inference, 60 observations would have to be replaced with cases for which the effect is 0 (RIR = 60).</span>
<span class="co">#&gt; See Frank et al. (2013) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. 2013. What would it take to change an inference? Using Rubin's causal model to interpret the robustness of causal inferences. Education, Evaluation and Policy Analysis, 35 437-460.</span>
<span class="co">#&gt; Impact Threshold for a Confounding Variable:</span>
<span class="co">#&gt; The minimum impact to invalidate an inference for a null hypothesis of 0 effect is based on a correlation of 0.568 with the outcome and at 0.568 with the predictor of interest (conditioning on observed covariates) based on a threshold of 0.201 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; Correspondingly the impact of an omitted variable (as defined in Frank 2000) must be 0.568 X 0.568 = 0.323 to invalidate an inference for a null hypothesis of 0 effect.</span>
<span class="co">#&gt; See Frank (2000) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K. 2000. Impact of a confounding variable on the inference of a regression coefficient. Sociological Methods and Research, 29 (2), 147-194</span>
<span class="co">#&gt; For other forms of output, run ?pkonfound and inspect the to_return argument</span>
<span class="co">#&gt; For models fit in R, consider use of konfound().</span></code></pre></div>
<p>For this set of values, around 60% would need to be false due to a source of bias for the inference to be invalidated (based on statistical significance and a p-value (or alpha) of .05), possible a very robust effect. An omitted, confounding variable (sometimes referred to as a covariate) would need to have an impact (defined as the product of the confounding variable’s correlation with both the predictor of interest and the outcome) of 0.323, presenting a different interpretation of how robust this (hypothetical) effect is to a variable which is important but not included in the analysis.</p>
<p>Here is another example, but one in which the unstandardized beta coefficient is smaller than its standard error:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pkonfound.html">pkonfound</a></span><span class="op">(</span><span class="fl">.4</span>, <span class="fl">2</span>, <span class="fl">100</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; Percent Bias Necessary to Invalidate the Inference:</span>
<span class="co">#&gt; To sustain an inference, 89.924% of the estimate would have to be due to bias. This is based on a threshold of 3.97 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; To sustain an inference, 90 of the cases with 0 effect would have to be replaced with cases at the threshold of inference (RIR = 90).</span>
<span class="co">#&gt; See Frank et al. (2013) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. 2013. What would it take to change an inference? Using Rubin's causal model to interpret the robustness of causal inferences. Education, Evaluation and Policy Analysis, 35 437-460.</span>
<span class="co">#&gt; Impact Threshold for a Confounding Variable:</span>
<span class="co">#&gt; The maximum impact to sustain an inference for a null hypothesis of 0 effect is based on a correlation of 0.387 with the outcome and at 0.387 with the predictor of interest (conditioning on observed covariates) based on a threshold of 3.97 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; Correspondingly the impact of an omitted variable (as defined in Frank 2000) must be 0.387 X 0.387 = 0.15 to sustain an inference for a null hypothesis of 0 effect.</span>
<span class="co">#&gt; See Frank (2000) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K. 2000. Impact of a confounding variable on the inference of a regression coefficient. Sociological Methods and Research, 29 (2), 147-194</span>
<span class="co">#&gt; For other forms of output, run ?pkonfound and inspect the to_return argument</span>
<span class="co">#&gt; For models fit in R, consider use of konfound().</span></code></pre></div>
<p>Note that this use of <code><a href="../reference/pkonfound.html">pkonfound()</a></code> is equivalent to naming the arguments, i.e. for a different set of values:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pkonfound.html">pkonfound</a></span><span class="op">(</span>est_eff <span class="op">=</span> <span class="op">-</span><span class="fl">2.2</span>,
          std_err <span class="op">=</span> <span class="fl">.65</span>, 
          n_obs <span class="op">=</span> <span class="fl">200</span>,
          n_covariates <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; Percent Bias Necessary to Invalidate the Inference:</span>
<span class="co">#&gt; To invalidate an inference, 41.732% of the estimate would have to be due to bias. This is based on a threshold of -1.282 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; To invalidate an inference, 83 observations would have to be replaced with cases for which the effect is 0 (RIR = 83).</span>
<span class="co">#&gt; See Frank et al. (2013) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. 2013. What would it take to change an inference? Using Rubin's causal model to interpret the robustness of causal inferences. Education, Evaluation and Policy Analysis, 35 437-460.</span>
<span class="co">#&gt; Impact Threshold for a Confounding Variable:</span>
<span class="co">#&gt; The minimum impact to invalidate an inference for a null hypothesis of 0 effect is based on a correlation of 0.334 with the outcome and at 0.334 with the predictor of interest (conditioning on observed covariates) based on a threshold of -0.14 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; Correspondingly the impact of an omitted variable (as defined in Frank 2000) must be 0.334 X 0.334 = 0.112 to invalidate an inference for a null hypothesis of 0 effect.</span>
<span class="co">#&gt; See Frank (2000) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K. 2000. Impact of a confounding variable on the inference of a regression coefficient. Sociological Methods and Research, 29 (2), 147-194</span>
<span class="co">#&gt; For other forms of output, run ?pkonfound and inspect the to_return argument</span>
<span class="co">#&gt; For models fit in R, consider use of konfound().</span></code></pre></div>
<p>We notice that the output includes a message that says we can view other forms of output by changing the <code>to_return</code> argument. Here are the two plots - for the bias necessary to alter an inference (<code>thresh_plot</code>) and for the robustness of an inference in terms of the impact of a confounding variable (<code>corr_plot</code>) that can be returned:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pkonfound.html">pkonfound</a></span><span class="op">(</span><span class="fl">.4</span>, <span class="fl">2</span>, <span class="fl">100</span>, <span class="fl">3</span>, to_return <span class="op">=</span> <span class="st">"thresh_plot"</span><span class="op">)</span>
<span class="co">#&gt; Warning: `data_frame()` is deprecated as of tibble 1.1.0.</span>
<span class="co">#&gt; Please use `tibble()` instead.</span>
<span class="co">#&gt; This warning is displayed once every 8 hours.</span>
<span class="co">#&gt; Call `lifecycle::last_warnings()` to see where this warning was generated.</span></code></pre></div>
<p><img src="introduction-to-konfound_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pkonfound.html">pkonfound</a></span><span class="op">(</span><span class="fl">.4</span>, <span class="fl">2</span>, <span class="fl">100</span>, <span class="fl">3</span>, to_return <span class="op">=</span> <span class="st">"corr_plot"</span><span class="op">)</span></code></pre></div>
<p><img src="introduction-to-konfound_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>You can also specify multiple forms of output at once.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pkonfound.html">pkonfound</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">.4</span>, <span class="fl">200</span>, <span class="fl">3</span>, to_return <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"raw_output"</span>, <span class="st">"thresh_plot"</span>, <span class="st">"corr_plot"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Percent Bias Necessary to Invalidate the Inference:</span>
<span class="co">#&gt; To invalidate an inference, 60.557% of the estimate would have to be due to bias. This is based on a threshold of 0.789 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; To invalidate an inference, 121 observations would have to be replaced with cases for which the effect is 0 (RIR = 121).</span>
<span class="co">#&gt; See Frank et al. (2013) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. 2013. What would it take to change an inference? Using Rubin's causal model to interpret the robustness of causal inferences. Education, Evaluation and Policy Analysis, 35 437-460.</span>
<span class="co">#&gt; Impact Threshold for a Confounding Variable:</span>
<span class="co">#&gt; The minimum impact to invalidate an inference for a null hypothesis of 0 effect is based on a correlation of 0.479 with the outcome and at 0.479 with the predictor of interest (conditioning on observed covariates) based on a threshold of 0.14 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; Correspondingly the impact of an omitted variable (as defined in Frank 2000) must be 0.479 X 0.479 = 0.229 to invalidate an inference for a null hypothesis of 0 effect.</span>
<span class="co">#&gt; See Frank (2000) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K. 2000. Impact of a confounding variable on the inference of a regression coefficient. Sociological Methods and Research, 29 (2), 147-194</span>
<span class="co">#&gt; Print output created by default. Created 3 other forms of output. Use list indexing or run summary() on the output to see how to access.</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">model_output</span><span class="op">)</span>
<span class="co">#&gt; Created 3 forms of output. To access type: </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; model_output$raw_output</span>
<span class="co">#&gt; model_output$thresh_plot</span>
<span class="co">#&gt; model_output$corr_plot</span></code></pre></div>
<p>When we type the name of the object, we see that we created three types of output that we can access as follows:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_output</span><span class="op">$</span><span class="va">raw_output</span>
<span class="co">#&gt; # A tibble: 1 x 8</span>
<span class="co">#&gt;   action inference percent_bias_to… replace_null_ca… unstd_beta beta_threshhold</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;                &lt;dbl&gt;            &lt;dbl&gt;      &lt;dbl&gt;           &lt;dbl&gt;</span>
<span class="co">#&gt; 1 to_in… reject_n…             60.6              121          2           0.789</span>
<span class="co">#&gt; # … with 2 more variables: omitted_variable_corr &lt;dbl&gt;, itcv &lt;dbl&gt;</span>
<span class="va">model_output</span><span class="op">$</span><span class="va">thresh_plot</span></code></pre></div>
<p><img src="introduction-to-konfound_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model_output</span><span class="op">$</span><span class="va">corr_plot</span></code></pre></div>
<p><img src="introduction-to-konfound_files/figure-html/unnamed-chunk-8-2.png" width="700"></p>
<p>Finally, you can return the raw output, for use in other analyses.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pkonfound.html">pkonfound</a></span><span class="op">(</span><span class="fl">.4</span>, <span class="fl">2</span>, <span class="fl">100</span>, <span class="fl">3</span>, to_return <span class="op">=</span> <span class="st">"raw_output"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 8</span>
<span class="co">#&gt;   action inference percent_bias_to… replace_null_ca… unstd_beta beta_threshhold</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;                &lt;dbl&gt;            &lt;dbl&gt;      &lt;dbl&gt;           &lt;dbl&gt;</span>
<span class="co">#&gt; 1 to_su… fail_to_…             89.9               90        0.4            3.97</span>
<span class="co">#&gt; # … with 2 more variables: omitted_variable_corr &lt;dbl&gt;, itcv &lt;dbl&gt;</span></code></pre></div>
<p>This function can be used with the values from a two-by-two table associated with an intervention (represented as a dichotomous predictor variable) that is related with a binary outcome, such as one that could be modeled using a logistic regression. Below:</p>
<ul>
<li>
<code>a</code> represents an unsuccessful control group outcome</li>
<li>
<code>b</code> represents a successful control group outcome</li>
<li>
<code>c</code> represents an unsuccessful treatment group outcome</li>
<li>
<code>d</code> represents a successful treatment group outcome</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pkonfound.html">pkonfound</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">35</span>, b <span class="op">=</span> <span class="fl">17</span>, c <span class="op">=</span> <span class="fl">17</span>, d <span class="op">=</span> <span class="fl">38</span><span class="op">)</span>
<span class="co">#&gt; Background Information:</span>
<span class="co">#&gt; This function calculates the number of cases that would have to be replaced with no effect cases (RIR) to invalidate an inference made about the association between the rows and columns in a 2x2 table. One can also interpret this as switches from one cell to another, such as from the treatment success cell to the treatment failure cell.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Conclusion:</span>
<span class="co">#&gt; To invalidate the inference,you would need to replace 13 treatment success cases with null hypothesis cases (RIR = 13). This is equivalent to transferring 9 cases from treatment success to treatment failure.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; For the User-entered Table, we have an estimated odds ratio of 4.530, with p-value of 0.000:</span>
<span class="co">#&gt; User-entered Table:</span>
<span class="co">#&gt;           Fail Success</span>
<span class="co">#&gt; Control     35      17</span>
<span class="co">#&gt; Treatment   17      38</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; For the Transfer Table, we have an estimated odds ratio of 2.278, with p-value of 0.051:</span>
<span class="co">#&gt; Transfer Table:</span>
<span class="co">#&gt;           Fail Success</span>
<span class="co">#&gt; Control     35      17</span>
<span class="co">#&gt; Treatment   26      29</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; RIR:</span>
<span class="co">#&gt; RIR = 13</span>
<span class="co">#&gt; For other forms of output, run ?pkonfound and inspect the to_return argument</span>
<span class="co">#&gt; For models fit in R, consider use of konfound().</span></code></pre></div>
<p>A table can also be passed to this function:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_table</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span>
<span class="op">~</span><span class="va">unsuccess</span>, <span class="op">~</span><span class="va">success</span>,
<span class="fl">35</span>,         <span class="fl">17</span>,
<span class="fl">17</span>,         <span class="fl">38</span>,
<span class="op">)</span>

<span class="fu"><a href="../reference/pkonfound.html">pkonfound</a></span><span class="op">(</span>two_by_two_table <span class="op">=</span> <span class="va">my_table</span><span class="op">)</span>
<span class="co">#&gt; Background Information:</span>
<span class="co">#&gt; This function calculates the number of cases that would have to be replaced with no effect cases (RIR) to invalidate an inference made about the association between the rows and columns in a 2x2 table. One can also interpret this as switches from one cell to another, such as from the treatment success cell to the treatment failure cell.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Conclusion:</span>
<span class="co">#&gt; To invalidate the inference,you would need to replace 13 treatment success cases with null hypothesis cases (RIR = 13). This is equivalent to transferring 9 cases from treatment success to treatment failure.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; For the User-entered Table, we have an estimated odds ratio of 4.530, with p-value of 0.000:</span>
<span class="co">#&gt; User-entered Table:</span>
<span class="co">#&gt;           Fail Success</span>
<span class="co">#&gt; Control     35      17</span>
<span class="co">#&gt; Treatment   17      38</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; For the Transfer Table, we have an estimated odds ratio of 2.278, with p-value of 0.051:</span>
<span class="co">#&gt; Transfer Table:</span>
<span class="co">#&gt;           Fail Success</span>
<span class="co">#&gt; Control     35      17</span>
<span class="co">#&gt; Treatment   26      29</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; RIR:</span>
<span class="co">#&gt; RIR = 13</span>
<span class="co">#&gt; For other forms of output, run ?pkonfound and inspect the to_return argument</span>
<span class="co">#&gt; For models fit in R, consider use of konfound().</span></code></pre></div>
</div>
<div id="use-of-konfound-for-models-fit-in-r" class="section level2">
<h2 class="hasAnchor">
<a href="#use-of-konfound-for-models-fit-in-r" class="anchor"></a>Use of konfound() for models fit in R</h2>
<p>Where <code><a href="../reference/pkonfound.html">pkonfound()</a></code> can be used with values from already-conducted analyses, <code><a href="../reference/konfound.html">konfound()</a></code> can be used with models (<code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code>, <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code>, and <code><a href="https://rdrr.io/pkg/lme4/man/lmer.html">lme4::lmer()</a></code>) fit in R.</p>
<p><strong>For linear models fit with lm()</strong></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span>
<span class="va">m1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = mpg ~ wt + hp + qsec, data = mtcars)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt; (Intercept)           wt           hp         qsec  </span>
<span class="co">#&gt;    27.61053     -4.35880     -0.01782      0.51083</span>

<span class="fu"><a href="../reference/konfound.html">konfound</a></span><span class="op">(</span><span class="va">m1</span>, <span class="va">hp</span><span class="op">)</span>
<span class="co">#&gt; Percent Bias Necessary to Invalidate the Inference:</span>
<span class="co">#&gt; To sustain an inference, 41.923% of the estimate would have to be due to bias. This is based on a threshold of -0.031 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; To sustain an inference, 13 of the cases with 0 effect would have to be replaced with cases at the threshold of inference (RIR = 13).</span>
<span class="co">#&gt; See Frank et al. (2013) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. 2013. What would it take to change an inference? Using Rubin's causal model to interpret the robustness of causal inferences. Education, Evaluation and Policy Analysis, 35 437-460.</span>
<span class="co">#&gt; Impact Threshold for a Confounding Variable:</span>
<span class="co">#&gt; The maximum impact to sustain an inference for a null hypothesis of 0 effect is based on a correlation of 0.326 with the outcome and at 0.326 with the predictor of interest (conditioning on observed covariates) based on a threshold of -0.031 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; Correspondingly the impact of an omitted variable (as defined in Frank 2000) must be 0.326 X 0.326 = 0.106 to sustain an inference for a null hypothesis of 0 effect.</span>
<span class="co">#&gt; See Frank (2000) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K. 2000. Impact of a confounding variable on the inference of a regression coefficient. Sociological Methods and Research, 29 (2), 147-194</span>
<span class="co">#&gt; For more detailed output, consider setting `to_return` to table</span>
<span class="co">#&gt; To consider other predictors of interest, consider setting `test_all` to TRUE.</span></code></pre></div>
<p>Like with <code><a href="../reference/pkonfound.html">pkonfound()</a></code>, we can also output multiple forms of output at once with <code><a href="../reference/konfound.html">konfound()</a></code>:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">konfound_output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/konfound.html">konfound</a></span><span class="op">(</span><span class="va">m1</span>, <span class="va">hp</span>, to_return <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"raw_output"</span>, <span class="st">"thresh_plot"</span>, <span class="st">"corr_plot"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Percent Bias Necessary to Invalidate the Inference:</span>
<span class="co">#&gt; To sustain an inference, 41.923% of the estimate would have to be due to bias. This is based on a threshold of -0.031 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; To sustain an inference, 13 of the cases with 0 effect would have to be replaced with cases at the threshold of inference (RIR = 13).</span>
<span class="co">#&gt; See Frank et al. (2013) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. 2013. What would it take to change an inference? Using Rubin's causal model to interpret the robustness of causal inferences. Education, Evaluation and Policy Analysis, 35 437-460.</span>
<span class="co">#&gt; Impact Threshold for a Confounding Variable:</span>
<span class="co">#&gt; The maximum impact to sustain an inference for a null hypothesis of 0 effect is based on a correlation of 0.326 with the outcome and at 0.326 with the predictor of interest (conditioning on observed covariates) based on a threshold of -0.031 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; Correspondingly the impact of an omitted variable (as defined in Frank 2000) must be 0.326 X 0.326 = 0.106 to sustain an inference for a null hypothesis of 0 effect.</span>
<span class="co">#&gt; See Frank (2000) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K. 2000. Impact of a confounding variable on the inference of a regression coefficient. Sociological Methods and Research, 29 (2), 147-194</span>
<span class="co">#&gt; Print output created by default. Created 3 other forms of output. Use list indexing or run summary() on the output to see how to access.</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">konfound_output</span><span class="op">)</span>
<span class="co">#&gt; Created 3 forms of output. To access type: </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; konfound_output$raw_output</span>
<span class="co">#&gt; konfound_output$thresh_plot</span>
<span class="co">#&gt; konfound_output$corr_plot</span></code></pre></div>
<p>Again, we can type each of those, i.e.:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">konfound_output</span><span class="op">$</span><span class="va">raw_output</span>
<span class="co">#&gt; # A tibble: 1 x 8</span>
<span class="co">#&gt;   action inference percent_bias_to… replace_null_ca… unstd_beta beta_threshhold</span>
<span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;                &lt;dbl&gt;            &lt;dbl&gt;      &lt;dbl&gt;           &lt;dbl&gt;</span>
<span class="co">#&gt; 1 to_su… fail_to_…             41.9               13    -0.0178         -0.0307</span>
<span class="co">#&gt; # … with 2 more variables: omitted_variable_corr &lt;dbl&gt;, itcv &lt;dbl&gt;</span>
<span class="va">konfound_output</span><span class="op">$</span><span class="va">thresh_plot</span></code></pre></div>
<p><img src="introduction-to-konfound_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>We can also test all of the variables as predictors of interest:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/konfound.html">konfound</a></span><span class="op">(</span><span class="va">m1</span>, <span class="va">wt</span>, test_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; Note that this output is calculated based on the correlation-based approach used in mkonfound()</span>
<span class="co">#&gt; Warning in data.frame(t = est_eff/std_err, df = (n_obs - n_covariates - : row</span>
<span class="co">#&gt; names were found from a short variable and have been discarded</span>
<span class="co">#&gt; # A tibble: 3 x 8</span>
<span class="co">#&gt;   var_name     t    df action    inference     pct_bias_to_change_…   itcv r_con</span>
<span class="co">#&gt;   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;                        &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 wt       -5.79    28 to_inval… reject_null                   51.1  0.59  0.768</span>
<span class="co">#&gt; 2 hp       -1.19    28 to_susta… fail_to_reje…                 39.2 -0.104 0.323</span>
<span class="co">#&gt; 3 qsec      1.16    28 to_susta… fail_to_reje…                 40.5 -0.108 0.328</span></code></pre></div>
<p>Whereas this cannot be carried out with <code><a href="../reference/pkonfound.html">pkonfound()</a></code>, with <code><a href="../reference/konfound.html">konfound()</a></code> you can also return a table with some key output from the correlation-based approach.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/konfound.html">konfound</a></span><span class="op">(</span><span class="va">m1</span>, <span class="va">wt</span>, to_return <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span>
<span class="co">#&gt; Dependent variable is mpg</span>
<span class="co">#&gt; Warning: Unknown or uninitialised column: `itcv`.</span>
<span class="co">#&gt; Warning: Unknown or uninitialised column: `impact`.</span>
<span class="co">#&gt; # A tibble: 4 x 7</span>
<span class="co">#&gt;   term        estimate std.error statistic p.value   itcv impact</span>
<span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;</span>
<span class="co">#&gt; 1 (Intercept)   27.6       8.42       3.28   0.003 NA     NA    </span>
<span class="co">#&gt; 2 wt            -4.36      0.753     -5.79   0      0.602 NA    </span>
<span class="co">#&gt; 3 hp            -0.018     0.015     -1.19   0.244 NA      0.511</span>
<span class="co">#&gt; 4 qsec           0.511     0.439      1.16   0.255 NA      0.073</span></code></pre></div>
<p>If the impact threshhold is greater than the impacts of the <code>Z</code>s (the other covariates) then an omitted variable would have to have a greater impact than any of the observed covariates to change the inference. Note that in fields in which there is a lot known about covariates given the outcome of interest, then the omitted ones are likely less important than those that are known an included (i.e., we have a good sense of the factors that matter in terms of educational achievement).</p>
<p><strong>For logistic regression models fit with glm()</strong></p>
<p>Effects for these models are interpreted on the basis of average partial (or marginal) effects (calculated using the <code>margins</code> package).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># if forcats is not installed, this install it first using install.packages("forcats") for this to run</span>
<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html">requireNamespace</a></span><span class="op">(</span><span class="st">"forcats"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    <span class="va">d</span> <span class="op">&lt;-</span> <span class="fu">forcats</span><span class="fu">::</span><span class="va"><a href="https://forcats.tidyverse.org/reference/gss_cat.html">gss_cat</a></span>
    
    <span class="va">d</span><span class="op">$</span><span class="va">married</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">marital</span> <span class="op">==</span> <span class="st">"Married"</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>
    
    <span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">married</span> <span class="op">~</span> <span class="va">age</span>, data <span class="op">=</span> <span class="va">d</span>, family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html">binomial</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span><span class="op">)</span>
    <span class="fu"><a href="../reference/konfound.html">konfound</a></span><span class="op">(</span><span class="va">m2</span>, <span class="va">age</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; Percent Bias Necessary to Invalidate the Inference:</span>
<span class="co">#&gt; To invalidate an inference, 35.357% of the estimate would have to be due to bias. This is based on a threshold of 0.002 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; To invalidate an inference, 7569 observations would have to be replaced with cases for which the effect is 0 (RIR = 7569).</span>
<span class="co">#&gt; See Frank et al. (2013) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. 2013. What would it take to change an inference? Using Rubin's causal model to interpret the robustness of causal inferences. Education, Evaluation and Policy Analysis, 35 437-460.</span>
<span class="co">#&gt; Impact Threshold for a Confounding Variable:</span>
<span class="co">#&gt; The minimum impact to invalidate an inference for a null hypothesis of 0 effect is based on a correlation of 0.086 with the outcome and at 0.086 with the predictor of interest (conditioning on observed covariates) based on a threshold of 0.013 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; Correspondingly the impact of an omitted variable (as defined in Frank 2000) must be 0.086 X 0.086 = 0.007 to invalidate an inference for a null hypothesis of 0 effect.</span>
<span class="co">#&gt; See Frank (2000) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K. 2000. Impact of a confounding variable on the inference of a regression coefficient. Sociological Methods and Research, 29 (2), 147-194</span>
<span class="co">#&gt; NULL</span></code></pre></div>
<p><strong>For logistic regression models fit with glm() with a dichotomous predictor of interest</strong></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span><span class="op">(</span><span class="va">outcome</span> <span class="op">~</span> <span class="va">condition</span>, data <span class="op">=</span> <span class="va">binary_dummy_data</span><span class="op">)</span>
<span class="fu"><a href="../reference/konfound.html">konfound</a></span><span class="op">(</span><span class="va">m4</span>, <span class="va">condition</span>, dichotomous_iv <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>As with models fit with <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code> (and use of <code><a href="../reference/pkonfound.html">pkonfound()</a></code>), multiple forms of output can be specified with the <code>to_return</code> argument to <code><a href="../reference/konfound.html">konfound()</a></code>, i.e. <code><a href="../reference/konfound.html">konfound(m2, age, to_return = c("raw_output", "corr_plot", "thresh_plot"))</a></code>.</p>
<p><strong>For mixed effects (or multi-level) models fit with the lmer() function from the lme4 package</strong></p>
<p><code>konfound</code> also works with models fit with the <code><a href="https://rdrr.io/pkg/lme4/man/lmer.html">lmer()</a></code> function from the package <code>lme4</code>, for mixed-effects or multi-level models. One challenge with carrying out sensitivity analysis for fixed effects in mixed effects models is calculating the correct denominator degrees of freedom for the t-test associated with the coefficients. This is not unique to sensitivity analysis, as, for example, <code><a href="https://rdrr.io/pkg/lme4/man/lmer.html">lmer()</a></code> does not report degrees of freedom (or p-values) for fixed effects predictors (see this information in the <code>lme4</code> FAQ <a href="http://bbolker.github.io/mixedmodels-misc/glmmFAQ.html#why-doesnt-lme4-display-denominator-degrees-of-freedomp-values-what-other-options-do-i-have">here</a>). While it may be possible to determine the correct degrees of freedom for some models (i.e., models with relatively simple random effects structures), it is difficult to generalize this approach, and so in this package the Kenward-Roger approximation for the denominator degrees of freedom as implemented in the <code>pbkrtest</code> package (described in <a href="https://www.jstatsoft.org/htaccess.php?volume=59&amp;type=i&amp;issue=09&amp;paper=true">Halekoh and Højsgaard, 2014</a>).</p>
<p>Here is an example of the use of <code><a href="../reference/konfound.html">konfound()</a></code> with a model fit with <code><a href="https://rdrr.io/pkg/lme4/man/lmer.html">lmer()</a></code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html">requireNamespace</a></span><span class="op">(</span><span class="st">"lme4"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lme4/lme4/">lme4</a></span><span class="op">)</span>
    <span class="va">m3</span> <span class="op">&lt;-</span> <span class="va">fm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lme4/man/lmer.html">lmer</a></span><span class="op">(</span><span class="va">Reaction</span> <span class="op">~</span> <span class="va">Days</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">Subject</span><span class="op">)</span>, <span class="va">sleepstudy</span><span class="op">)</span>
    <span class="fu"><a href="../reference/konfound.html">konfound</a></span><span class="op">(</span><span class="va">m3</span>, <span class="va">Days</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; Loading required namespace: lme4</span>
<span class="co">#&gt; Loading required package: Matrix</span>
<span class="co">#&gt; Registered S3 method overwritten by 'broom.mixed':</span>
<span class="co">#&gt;   method      from </span>
<span class="co">#&gt;   tidy.gamlss broom</span>
<span class="co">#&gt; Percent Bias Necessary to Invalidate the Inference:</span>
<span class="co">#&gt; To invalidate an inference, 84.826% of the estimate would have to be due to bias. This is based on a threshold of 1.588 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; To invalidate an inference, 137 observations would have to be replaced with cases for which the effect is 0 (RIR = 137).</span>
<span class="co">#&gt; See Frank et al. (2013) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. 2013. What would it take to change an inference? Using Rubin's causal model to interpret the robustness of causal inferences. Education, Evaluation and Policy Analysis, 35 437-460.</span>
<span class="co">#&gt; Impact Threshold for a Confounding Variable:</span>
<span class="co">#&gt; The minimum impact to invalidate an inference for a null hypothesis of 0 effect is based on a correlation of 0.817 with the outcome and at 0.817 with the predictor of interest (conditioning on observed covariates) based on a threshold of 0.155 for statistical significance (alpha = 0.05).</span>
<span class="co">#&gt; Correspondingly the impact of an omitted variable (as defined in Frank 2000) must be 0.817 X 0.817 = 0.667 to invalidate an inference for a null hypothesis of 0 effect.</span>
<span class="co">#&gt; See Frank (2000) for a description of the method</span>
<span class="co">#&gt; Citation: Frank, K. 2000. Impact of a confounding variable on the inference of a regression coefficient. Sociological Methods and Research, 29 (2), 147-194</span>
<span class="co">#&gt; Note that the Kenward-Roger approximation is used to estimate degrees of freedom for the predictor(s) of interest. We are presently working to add other methods for calculating the degrees of freedom for the predictor(s) of interest. If you wish to use other methods now, consider those detailed here: https://bbolker.github.io/mixedmodels-misc/glmmFAQ.html#why-doesnt-lme4-display-denominator-degrees-of-freedomp-values-what-other-options-do-i-have. You can then enter degrees of freedom obtained from another method along with the coefficient, number of observations, and number of covariates to the pkonfound() function to quantify the robustness of the inference.</span>
<span class="co">#&gt; NULL</span></code></pre></div>
</div>
<div id="use-of-mkonfound-for-meta-analyses-that-include-sensitivity-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#use-of-mkonfound-for-meta-analyses-that-include-sensitivity-analysis" class="anchor"></a>Use of mkonfound() for meta-analyses that include sensitivity analysis</h2>
<p>We can also use <code>konfound</code> to carry out sensitivity analysis as part of meta-analyses. For example, here, <code>d</code> represents output from a number (30 in this case) of past studies, read in a CSV file from a website:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"https://msu.edu/~kenfrank/example%20dataset%20for%20mkonfound.csv"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span>
<span class="co">#&gt;           t  df</span>
<span class="co">#&gt; 1  7.076763 178</span>
<span class="co">#&gt; 2  4.127893 193</span>
<span class="co">#&gt; 3  1.893137  47</span>
<span class="co">#&gt; 4 -4.166395 138</span>
<span class="co">#&gt; 5 -1.187599  97</span>
<span class="co">#&gt; 6  3.585478  87</span>
<span class="fu"><a href="../reference/mkonfound.html">mkonfound</a></span><span class="op">(</span><span class="va">d</span>, <span class="va">t</span>, <span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 30 x 7</span>
<span class="co">#&gt;         t    df action      inference       pct_bias_to_change_inf…   itcv r_con</span>
<span class="co">#&gt;     &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;                             &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt;  1  7.08    178 to_invalid… reject_null                       68.8   0.378 0.614</span>
<span class="co">#&gt;  2  4.13    193 to_invalid… reject_null                       50.6   0.168 0.41 </span>
<span class="co">#&gt;  3  1.89     47 to_sustain  fail_to_reject…                    5.47 -0.012 0.11 </span>
<span class="co">#&gt;  4 -4.17    138 to_invalid… reject_null                       50.3   0.202 0.449</span>
<span class="co">#&gt;  5 -1.19     97 to_sustain  fail_to_reject…                   39.4  -0.065 0.255</span>
<span class="co">#&gt;  6  3.59     87 to_invalid… reject_null                       41.9   0.19  0.436</span>
<span class="co">#&gt;  7  0.282   117 to_sustain  fail_to_reject…                   85.5  -0.131 0.361</span>
<span class="co">#&gt;  8  2.55     75 to_invalid… reject_null                       20.6   0.075 0.274</span>
<span class="co">#&gt;  9 -4.44    137 to_invalid… reject_null                       53.0   0.225 0.475</span>
<span class="co">#&gt; 10 -2.05    195 to_invalid… reject_null                        3.51  0.006 0.077</span>
<span class="co">#&gt; # … with 20 more rows</span></code></pre></div>
<p>We can also return a plot summarizing the percent bias needed to sustan or invalidate an inference across all of the past studies:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/mkonfound.html">mkonfound</a></span><span class="op">(</span><span class="va">d</span>, <span class="va">t</span>, <span class="va">df</span>, return_plot <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></code></pre></div>
<p><img src="introduction-to-konfound_files/figure-html/unnamed-chunk-21-1.png" width="700"></p>
</div>
</div>
<div id="other-information" class="section level1">
<h1 class="hasAnchor">
<a href="#other-information" class="anchor"></a>Other information</h1>
<div id="how-to-learn-more-about-sensitivity-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#how-to-learn-more-about-sensitivity-analysis" class="anchor"></a>How to learn more about sensitivity analysis</h3>
<p>To learn more about sensitivity analysis, please visit: ’/ ?˘* The <a href="https://jrosen48.github.io/konfound/articles/Introduction_to_konfound.html">Introduction to konfound vignette</a>, with detailed information about each of the functions (<code><a href="../reference/pkonfound.html">pkonfound()</a></code>, <code><a href="../reference/konfound.html">konfound()</a></code>, and <code>mkounfound()</code>) * The causal inference section of Ken Frank’s website <a href="https://msu.edu/~kenfrank/research.htm#causal">here</a> * The <a href="https://jmichaelrosenberg.shinyapps.io/shinykonfound/">konfound interactive web application</a>, with links to PowerPoints and key publications</p>
</div>
<div id="feedback-issues-and-feature-requests" class="section level3">
<h3 class="hasAnchor">
<a href="#feedback-issues-and-feature-requests" class="anchor"></a>Feedback, issues, and feature requests</h3>
<p><code>konfound</code> is actively under development as of January, 2018. We welcome feedback and requests for improvement. We prefer for issues to be filed via GitHub (link to the issues page for <code>konfound</code> <a href="https://github.com/jrosen48/konfound/issues">here</a>) though we also welcome questions or feedback via email (see the DESCRIPTION file).</p>
</div>
<div id="code-of-conduct" class="section level3">
<h3 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h3>
<p>Please note that this project is released with a Contributor Code of Conduct available at <a href="http://contributor-covenant.org/version/1/0/0/">http://contributor-covenant.org/ve.…&lt;Lk hxvrsion/1/0/0/</a></p>
</div>
<div id="references" class="section level3">
<h3 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h3>
<ul>
<li><p>Frank, K.A., Maroulis, S., Duong, M., and Kelcey, B. 2013. What would it take to change an inference?: Using Rubin’s causal model to interpret the robustness of causal inferences. <em>Education, Evaluation and Policy Analysis</em>. Vol 35: 437-460. <a href="https://msu.edu/~kenfrank/What%20would%20it%20take%20to%20Change%20an%20Inference%20published.docx" class="uri">https://msu.edu/~kenfrank/What%20would%20it%20take%20to%20Change%20an%20Inference%20published.docx</a></p></li>
<li><p>Frank, K.A., Gary Sykes, Dorothea Anagnostopoulos, Marisa Cannata, Linda Chard, Ann Krause, Raven McCrory. 2008. Extended influence: National Board Certified Teachers as help providers. <em>Education, Evaluation, and Policy Analysis</em>. Vol 30(1): 3-30. <a href="https://msu.edu/~kenfrank/papers/Does%20NBPTS%20Certification%20Affect%20the%20Number%20of%20Colleagues%20a%20Teacher%20Helps%20with%20Instructional%20Matters%20acceptance%20version%202.doc" class="uri">https://msu.edu/~kenfrank/papers/Does%20NBPTS%20Certification%20Affect%20the%20Number%20of%20Colleagues%20a%20Teacher%20Helps%20with%20Instructional%20Matters%20acceptance%20version%202.doc</a></p></li>
<li><p>Frank, K. A. and Min, K. 2007. Indices of Robustness for Sample Representation. <em>Sociological Methodology</em>. Vol 37, 349-392. <a href="https://msu.edu/~kenfrank/papers/INDICES%20OF%20ROBUSTNESS%20TO%20CONCERNS%20REGARDING%20THE%20REPRESENTATIVENESS%20OF%20A%20SAMPLE.doc" class="uri">https://msu.edu/~kenfrank/papers/INDICES%20OF%20ROBUSTNESS%20TO%20CONCERNS%20REGARDING%20THE%20REPRESENTATIVENESS%20OF%20A%20SAMPLE.doc</a> (co first authors)</p></li>
<li><p>Frank, K. 2000. “Impact of a Confounding Variable on the Inference of a Regression Coefficient.” <em>Sociological Methods and Research</em>, 29(2), 147-194 <a href="https://msu.edu/~kenfrank/papers/impact%20of%20a%20confounding%20variable.pdf" class="uri">https://msu.edu/~kenfrank/papers/impact%20of%20a%20confounding%20variable.pdf</a></p></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Joshua M Rosenberg.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
